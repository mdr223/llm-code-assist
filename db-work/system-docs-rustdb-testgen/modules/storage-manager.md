The storage manager manages the database's data in ephemeral and persistent storage. It contains abstractions for tuples, heap pages, heap files, and a buffer pool. We describe each of these in detail below:
- **Tuples**: a tuple (i.e. record) is a collection of fields, each of which has a type and a value. Each tuple is stored in a heap page, which in turn is part of a heap file. Tuples have types which are uniquely defined by the field names and types.
- **Heap Pages**: a heap page contains tuples, with each tuple indexed into the page by some offset. We assume that a heap page can only contain tuples of the same type, and that each tuple of the same type is of fixed length. Tuples may be inserted into heap pages and deleted from them as well. Heap pages also expose an iterator method which returns every tuple in the page.
- **Heap Files**: a heap file contains a set of heap pages, each of which contains the same type of tuple. Heap files may have different physical backings, but for now we will assume it is a file on disk. Heap files expose an insertion and deletion method for tuples, as well as an iterator method which returns all tuples in the heap file.
- **Buffer Pool**: a buffer pool is an in-memory cache of heap pages. The buffer pool exposes a method for getting a page (specified by its offset in the heap file). If a page already resides in the buffer pool, it is simply returned from the in-memory cache. Otherwise, the page is read from its heap file and placed into the in-memory cache.
